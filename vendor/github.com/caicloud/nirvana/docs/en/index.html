
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Introduction Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter active" data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Topics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="topics/routes.html">
            
                <a href="topics/routes.html">
            
                    
                    Routes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="topics/cli.html">
            
                <a href="topics/cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="topics/error.html">
            
                <a href="topics/error.html">
            
                    
                    Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="topics/validation.html">
            
                <a href="topics/validation.html">
            
                    
                    Validation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="topics/openapi.html">
            
                <a href="topics/openapi.html">
            
                    
                    Open API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="topics/metrics.html">
            
                <a href="topics/metrics.html">
            
                    
                    Metrics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="topics/tracing.html">
            
                <a href="topics/tracing.html">
            
                    
                    Tracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="topics/testing.html">
            
                <a href="topics/testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Introduction</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="nirvana">Nirvana</h1>
<p><strong>English version of this docs is expired. We will rewrite it in the future. If you have any idea or you want to contribute to this docs, PLEASE let us know it.</strong></p>
<p>Nirvana is a Golang web framework with a focus on developer efficiency and
performance. It handles request routing, input validation, logging, error
handling, etc. with sensible defaults and options for complete control. Built
for developers with &#x2764;&#xFE0F; by developers in <a href="http://caicloud.io/" target="_blank">Caicloud</a>.</p>
<h2 id="status">Status</h2>
<p>Currently the framework is &#x1F6A7; WIP &#x1F6A7;, any comments or contributions are welcome!</p>
<h2 id="getting-started">Getting Started</h2>
<p>In Nirvana, APIs are defined via <code>definition.Descriptor</code>. We will not introduce details of the concept <code>Descriptor</code>,
instead, let&apos;s take a look at a contrived example:</p>
<pre><code class="lang-go"><span class="hljs-comment">// API descriptor.</span>
<span class="hljs-keyword">var</span> echo = definition.Descriptor{
    Path:        <span class="hljs-string">&quot;/echo&quot;</span>,
    Description: <span class="hljs-string">&quot;Echo API&quot;</span>,
    Definitions: []definition.Definition{
        {
            Method: definition.Get,
            Function: Echo,
            Consumes: []<span class="hljs-keyword">string</span>{definition.MIMEAll},
            Produces: []<span class="hljs-keyword">string</span>{definition.MIMEText},
            Parameters: []definition.Parameter{
                {
                    Source: definition.Query,
                    Name: <span class="hljs-string">&quot;msg&quot;</span>,
                    Description: <span class="hljs-string">&quot;Corresponding to the second parameter&quot;</span>,
                },
            },
            Results: []definition.Result{
                {
                    Destination: definition.Data,
                    Description: <span class="hljs-string">&quot;Corresponding to the first result&quot;</span>,
                },
                {
                    Destination: definition.Error,
                    Description: <span class="hljs-string">&quot;Corresponding to the second result&quot;</span>,
                },
            },
        },
    },
}
</code></pre>
<p>This is an echo server API descriptor. The descriptor is a bit complex at first glance, but is actually quite
simple. Below is a partially translated HTTP language:</p>
<pre><code>HTTP Path: /echo[?msg=]
HTTP Method: Get
HTTP Headers:
    Content-Type: Any Type
    Accept: text/plain or */*
</code></pre><p>The request handler <code>Echo</code> receives two parameters and returns two results, as defined in our descriptor.
Note the first parameter is always <code>context.Context</code> - it is injected by default config.</p>
<pre><code class="lang-go"><span class="hljs-comment">// API function.</span>
<span class="hljs-keyword">func</span> Echo(ctx context.Context, msg <span class="hljs-keyword">string</span>) (<span class="hljs-keyword">string</span>, error) {
    <span class="hljs-keyword">return</span> msg, <span class="hljs-literal">nil</span>
}
</code></pre>
<p>Nirvana will parse incoming request and generate function parameters for <code>Echo</code> function as defined via
<code>Definition.Parameters</code> - parameters will be converted into the exact type defined in <code>Echo</code>. Once done,
Nirvana collects the results and sends back response.</p>
<p>With our API descriptors ready, we can now create a server to serve requests:</p>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;context&quot;</span>

    <span class="hljs-string">&quot;github.com/caicloud/nirvana&quot;</span>
    <span class="hljs-string">&quot;github.com/caicloud/nirvana/definition&quot;</span>
    <span class="hljs-string">&quot;github.com/caicloud/nirvana/log&quot;</span>
)

<span class="hljs-keyword">func</span> main() {
    config := nirvana.NewDefaultConfig(<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-number">8080</span>)
    config.Configure(nirvana.Descriptor(echo))
    log.Infof(<span class="hljs-string">&quot;Listening on %s:%d&quot;</span>, config.IP, config.Port)
    <span class="hljs-keyword">if</span> err := nirvana.NewServer(config).Serve(); err != <span class="hljs-literal">nil</span> {
        log.Fatal(err)
    }
}
</code></pre>
<p>Now run the server and test it:</p>
<pre><code>go run ./examples/getting-started/basics/echo.go
INFO  0202-16:34:38.663+08 echo.go:65 | Listening on :8080
INFO  0202-16:34:38.663+08 builder.go:163 | Definitions: 1 Middlewares: 0 Path: /echo
INFO  0202-16:34:38.663+08 builder.go:178 |   Method: Get Consumes: [*/*] Produces: [text/plain]
</code></pre><p>In another terminal:</p>
<pre><code class="lang-sh">$ curl <span class="hljs-string">&quot;http://localhost:8080/echo?msg=test&quot;</span>
<span class="hljs-built_in">test</span>
</code></pre>
<p>For full example code, see <a href="https://github.com/caicloud/nirvana/tree/master/examples/getting-started/basics" target="_blank">basics</a>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Introduction","level":"1.1","depth":1,"next":{"title":"Topics","level":"1.2","depth":1,"ref":"","articles":[{"title":"Routes","level":"1.2.1","depth":2,"path":"topics/routes.md","ref":"topics/routes.md","articles":[]},{"title":"CLI","level":"1.2.2","depth":2,"path":"topics/cli.md","ref":"topics/cli.md","articles":[]},{"title":"Error","level":"1.2.3","depth":2,"path":"topics/error.md","ref":"topics/error.md","articles":[]},{"title":"Validation","level":"1.2.4","depth":2,"path":"topics/validation.md","ref":"topics/validation.md","articles":[]},{"title":"Open API","level":"1.2.5","depth":2,"path":"topics/openapi.md","ref":"topics/openapi.md","articles":[]},{"title":"Metrics","level":"1.2.6","depth":2,"path":"topics/metrics.md","ref":"topics/metrics.md","articles":[]},{"title":"Tracing","level":"1.2.7","depth":2,"path":"topics/tracing.md","ref":"topics/tracing.md","articles":[]},{"title":"Testing","level":"1.2.8","depth":2,"path":"topics/testing.md","ref":"topics/testing.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"README.md","mtime":"2018-06-28T02:53:30.801Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-08-01T08:21:08.987Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

